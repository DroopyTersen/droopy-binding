!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(t){e("object.observe");t.droopyBinding={},t.DroopyBinding=e("../src/droopyBinding"),n.DroopyBinding=t.DroopyBinding}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../src/droopyBinding":6,"object.observe":4}],2:[function(e,t){var n=function(){this.eventKeys={},this.lastSubscriptionId=-1};n.prototype.on=function(e,t){if("function"==typeof t){this.eventKeys[e]||(this.eventKeys[e]={subscriptions:{}});var n=(++this.lastSubscriptionId).toString();return this.eventKeys[e].subscriptions[n]=t,n}return!1},n.prototype.off=function(e,t){if("function"==typeof t){if(this.eventKeys[e]){var n=this.eventKeys[e].subscriptions,r=null;for(var o in n)n.hasOwnProperty(o)&&n[o]===t&&(r=o);null!==r&&delete n[r]}}else this.eventKeys[e]&&this.eventKeys[e].subscriptions[t]&&delete this.eventKeys[e].subscriptions[t]},n.prototype.trigger=function(e){var t=this;if(t.eventKeys[e]){var n=Array.prototype.slice.call(arguments,1),r=n[0],o=n[1],i=n[2];n.length>3&&(r=n);var a=t.eventKeys[e].subscriptions;setTimeout(function(){for(var e in a)a.hasOwnProperty(e)&&a[e](r,o,i)},0)}},t.exports=n},{}],3:[function(e,t){var n={Placeholder:function(e){this.raw=e,this.fullProperty=e.slice(2,e.length-2)},getPlaceHolders:function(e,t){var n=t||/\{\{[^\}]+\}\}?/g,r=e.match(n);return r||[]},getObjectValue:function(e,t){for(var n=e,o=t.split("."),i=0;i<o.length;i++){var a=o[i];n=null!=n[a]?n[a]:"Not Found: "+t}if("_"===t&&(n=e),"string"==typeof n&&-1!==n.indexOf("/Date(")){var s=r(n);n=s.toLocaleDateString()}return n},populateTemplate:function(e,t,n){for(var r=this.getPlaceHolders(e,n)||[],o=e,i=0;i<r.length;i++){var a=new this.Placeholder(r[i]);a.val=this.getObjectValue(t,a.fullProperty);var s=a.raw.replace("[","\\[").replace("]","\\]"),u="g";o=o.replace(new RegExp(s,u),a.val)}return o}};n.Each={regExp:/\{\[[^\]]+\]\}?/g,populateEachTemplates:function(e,t){var r=$(e),o=r.find("[data-each]");o.each(function(){var e="",o=$(this).html(),i=$(this).data("each"),a=sp.templating.getObjectValue(t,i);if(null!=a&&$.isArray(a))for(var s=0;s<a.length;s++)e+=n.populateTemplate(o,a[s],n.Each.regExp);r.find($(this)).html(e)});var i=r.clone().wrap("<div>");return i.parent().html()}},n.renderTemplate=function(e,t,r){var o=n.populateTemplate(e,t);return r&&(o=n.Each.populateEachTemplates(o,t)),o};var r=function(e){var t=e.substring(e.indexOf("(")+1);t=t.substring(0,t.indexOf(")"));var n=new Date(parseInt(t,10)),r=n.getTimezoneOffset()/60;return n.setHours(n.getHours()+r),n};t.exports=n},{}],4:[function(){Object.observe||function(e,t,n){"use strict";var r,o,i=["add","update","delete","reconfigure","setPrototype","preventExtensions"],a=t.isArray||function(e){return function(t){return"[object Array]"===e.call(t)}}(e.prototype.toString),s=t.prototype.indexOf?t.indexOf||function(e,n,r){return t.prototype.indexOf.call(e,n,r)}:function(e,t,n){for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1},u="undefined"!=typeof n.Map&&Map.prototype.forEach?function(){return new Map}:function(){var e=[],t=[];return{size:0,has:function(t){return s(e,t)>-1},get:function(n){return t[s(e,n)]},set:function(n,r){var o=s(e,n);-1===o?(e.push(n),t.push(r),this.size++):t[o]=r},"delete":function(n){var r=s(e,n);r>-1&&(e.splice(r,1),t.splice(r,1),this.size--)},forEach:function(n){for(var r=0;r<e.length;r++)n.call(arguments[1],t[r],e[r],this)}}},c=e.getOwnPropertyNames?function(){var t=e.getOwnPropertyNames;try{arguments.callee}catch(n){var r=(t(s).join(" ")+" ").replace(/prototype |length |name /g,"").slice(0,-1).split(" ");r.length&&(t=function(t){var n=e.getOwnPropertyNames(t);if("function"==typeof t)for(var o,i=0;i<r.length;)(o=s(n,r[i++]))>-1&&n.splice(o,1);return n})}return t}():function(t){var n,r,o=[];if("hasOwnProperty"in t)for(n in t)t.hasOwnProperty(n)&&o.push(n);else{r=e.hasOwnProperty;for(n in t)r.call(t,n)&&o.push(n)}return a(t)&&o.push("length"),o},p=e.getPrototypeOf,l=e.defineProperties&&e.getOwnPropertyDescriptor,f=n.requestAnimationFrame||n.webkitRequestAnimationFrame||function(){var e=+new Date,t=e;return function(n){+new Date;return setTimeout(function(){n((t=+new Date)-e)},17)}}(),d=function(e,t,n){var o=r.get(e);o?m(e,o,t,n):(o=h(e),m(e,o,t,n),1===r.size&&f(g))},h=function(t,n){var o,i=c(t),a=[],s=0,n={handlers:u(),frozen:e.isFrozen?e.isFrozen(t):!1,extensible:e.isExtensible?e.isExtensible(t):!0,proto:p&&p(t),properties:i,values:a,notifier:b(t,n)};if(l)for(o=n.descriptors=[];s<i.length;)o[s]=l(t,i[s]),a[s]=t[i[s++]];else for(;s<i.length;)a[s]=t[i[s++]];return r.set(t,n),n},v=function(){var t=l?function(e,t,n,r,o){var i=t.properties[n],a=e[i],s=t.values[n],u=t.descriptors[n];"value"in o&&(s===a?0===s&&1/s!==1/a:s===s||a===a)&&(w(e,t,{name:i,type:"update",object:e,oldValue:s},r),t.values[n]=a),!u.configurable||o.configurable&&o.writable===u.writable&&o.enumerable===u.enumerable&&o.get===u.get&&o.set===u.set||(w(e,t,{name:i,type:"reconfigure",object:e,oldValue:s},r),t.descriptors[n]=o)}:function(e,t,n,r){var o=t.properties[n],i=e[o],a=t.values[n];(a===i?0===a&&1/a!==1/i:a===a||i===i)&&(w(e,t,{name:o,type:"update",object:e,oldValue:a},r),t.values[n]=i)},n=l?function(e,n,r,o,i){for(var a,s=n.length;r&&s--;)null!==n[s]&&(a=l(e,n[s]),r--,a?t(e,o,s,i,a):(w(e,o,{name:n[s],type:"delete",object:e,oldValue:o.values[s]},i),o.properties.splice(s,1),o.values.splice(s,1),o.descriptors.splice(s,1)))}:function(e,t,n,r,o){for(var i=t.length;n&&i--;)null!==t[i]&&(w(e,r,{name:t[i],type:"delete",object:e,oldValue:r.values[i]},o),r.properties.splice(i,1),r.values.splice(i,1),n--)};return function(r,o,i){if(r.handlers.size&&!r.frozen){var a,u,f,d,h,v,g,y,b=r.values,m=r.descriptors,j=0;if(r.extensible)if(a=r.properties.slice(),u=a.length,f=c(o),m){for(;j<f.length;)h=f[j++],d=s(a,h),y=l(o,h),-1===d?(w(o,r,{name:h,type:"add",object:o},i),r.properties.push(h),b.push(o[h]),m.push(y)):(a[d]=null,u--,t(o,r,d,i,y));n(o,a,u,r,i),e.isExtensible(o)||(r.extensible=!1,w(o,r,{type:"preventExtensions",object:o},i),r.frozen=e.isFrozen(o))}else{for(;j<f.length;)h=f[j++],d=s(a,h),v=o[h],-1===d?(w(o,r,{name:h,type:"add",object:o},i),r.properties.push(h),b.push(v)):(a[d]=null,u--,t(o,r,d,i));n(o,a,u,r,i)}else if(!r.frozen){for(;j<a.length;j++)h=a[j],t(o,r,j,i,l(o,h));e.isFrozen(o)&&(r.frozen=!0)}p&&(g=p(o),g!==r.proto&&(w(o,r,{type:"setPrototype",name:"__proto__",object:o,oldValue:r.proto}),r.proto=g))}}}(),g=function(){r.size&&(r.forEach(v),o.forEach(y),f(g))},y=function(e,t){e.changeRecords.length&&(t(e.changeRecords),e.changeRecords=[])},b=function(e,t){return arguments.length<2&&(t=r.get(e)),t&&t.notifier||{notify:function(t){t.type;var n=r.get(e);if(n){var o,i={object:e};for(o in t)"object"!==o&&(i[o]=t[o]);w(e,n,i)}},performChange:function(t,n){if("string"!=typeof t)throw new TypeError("Invalid non-string changeType");if("function"!=typeof n)throw new TypeError("Cannot perform non-function");var o,i,a=r.get(e),s=n.call(arguments[2]);if(a&&v(a,e,t),a&&s&&"object"==typeof s){i={object:e,type:t};for(o in s)"object"!==o&&"type"!==o&&(i[o]=s[o]);w(e,a,i)}}}},m=function(e,t,n,r){var i=o.get(n);i||o.set(n,i={observed:u(),changeRecords:[]}),i.observed.set(e,{acceptList:r.slice(),data:t}),t.handlers.set(n,i)},w=function(e,t,n,r){t.handlers.forEach(function(t){var o=t.observed.get(e).acceptList;("string"!=typeof r||-1===s(o,r))&&s(o,n.type)>-1&&t.changeRecords.push(n)})};r=u(),o=u(),e.observe=function(t,n,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object.observe cannot observe non-object");if("function"!=typeof n)throw new TypeError("Object.observe cannot deliver to non-function");if(e.isFrozen&&e.isFrozen(n))throw new TypeError("Object.observe cannot deliver to a frozen function object");if(arguments.length>2){if(!r||"object"!=typeof r)throw new TypeError("Object.observe cannot use non-object accept list")}else r=i;return d(t,n,r),t},e.unobserve=function(e,t){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object.unobserve cannot unobserve non-object");if("function"!=typeof t)throw new TypeError("Object.unobserve cannot deliver to non-function");var n,i=o.get(t);return i&&(n=i.observed.get(e))&&(i.observed.forEach(function(e,t){v(e.data,t)}),f(function(){y(i,t)}),1===i.observed.size&&i.observed.has(e)?o["delete"](t):i.observed["delete"](e),1===n.data.handlers.size?r["delete"](e):n.data.handlers["delete"](t)),e},e.getNotifier=function(t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object.getNotifier cannot getNotifier non-object");return e.isFrozen&&e.isFrozen(t)?null:b(t)},e.deliverChangeRecords=function(e){if("function"!=typeof e)throw new TypeError("Object.deliverChangeRecords cannot deliver to non-function");var t=o.get(e);t&&(t.observed.forEach(function(e,t){v(e.data,t)}),y(t,e))}}(Object,Array,this)},{}],5:[function(e,t){var n=e("droopy-templating"),r=function(e,t){this.element=e,this.original=e.innerHTML,this.fullProperty=t};r.prototype.update=function(e){var t=this,r="",o=n.getObjectValue(e,t.fullProperty);if(o&&Array.isArray(o))for(var i=0;i<o.length;i++)r+=n.populateTemplate(t.original,o[i],n.Each.regExp);t.element.innerHTML=r},t.exports=r},{"droopy-templating":3}],6:[function(e,t){var n=e("droopy-templating"),r=e("./nodeBinding"),o=e("./arrayBinding"),i=e("droopy-events"),a=function(e,t,n){n=n||{},this.model=t,this.container=document.getElementById(e),this.observeArrayItems=n.observeArrayItems||!1,this.bindings=this.getBindings(this.container),i.call(this),n.shouldInit!==!1&&this.init()};a.prototype=new i,a.prototype.init=function(){var e=this;e.updateBindings(),e.recursiveObserve(e.model,"",function(t,n){e.handleObjectChange(t,n)})},a.prototype.recursiveObserve=function(e,t,n){var r=this;(Array.isArray(e)||"object"==typeof e)&&(Array.isArray(e)?(Object.observe(e,function(e){r.handleArrayChange(e,t)}),this.observeArrayItems&&e.forEach(function(e){r.recursiveObserve(e,"",function(e){r.handleArrayChange.call(r,e,t)})})):(Object.observe(e,function(e){n(e,t)}),Object.keys(e).forEach(function(o){var i=t;i?i+="."+o:i=o,r.recursiveObserve(e[o],i,n)})))},a.prototype.handleArrayChange=function(e,t){var n=this,r=0;e.forEach(function(e){r++,Array.isArray(e.object)&&"update"===e.type?n.recursiveObserve(e.object[e.name],"",function(e){n.handleArrayChange.call(n,e,t)}):Array.isArray(e.object)&&"splice"===e.type&&e.addedCount>0&&n.recursiveObserve(e.object[e.index],"",function(e){n.handleArrayChange.call(n,e,t)})}),n.bindings.forEach(function(e){e.fullProperty===t&&e.update(n.model)})};var s=function(e,t){return e.filter(function(e){return 0===e.fullProperty.indexOf(t)})};a.prototype.handleObjectChange=function(e,t){var n=this;e.forEach(function(e){var r=e.name;t&&(r=t+"."+e.name),s(n.bindings,r).forEach(function(e){e.update(n.model)}),"update"===e.type&&n.recursiveObserve(e.object[e.name],r,function(e,t){n.handleObjectChange(e,t)})})},a.prototype.updateBindings=function(){var e=this;e.bindings.forEach(function(t){t.update(e.model)})},a.prototype.updateModelProperty=function(e,t){for(var n=e.split("."),r=this.model,o=e,i=0;i<n.length-1;i++)null!=r[n[i]]&&(o=n[i],r=r[o]);"_"===e?r=t:(o=n[n.length-1],r[o]=t)},a.prototype.updateModel=function(e){this.model=e,this.init()},a.prototype.bindEvents=function(e){var t=this;e.on("input-change",t.updateModelProperty.bind(t)),e.on("updating",function(e){t.broadcast("updating",e)}),e.on("updated",function(e){t.broadcast("updated",e)})},a.prototype.broadcast=function(e,t){for(var n=t.split("."),r="",o=0;o<n.length;o++)r+=n[o],this.trigger(e+"-"+r),r+="."},a.prototype.getBindings=function(e){var t=this,i=[],a=[],s=0;if(e.attributes)for(s=0;s<e.attributes.length;s++)if("data-each"===e.attributes[s].nodeName)i.push(new o(e,e.attributes[s].nodeValue));else{var u=n.getPlaceHolders(e.attributes[s].nodeValue).map(function(n){var o=new r(e.attributes[s],n,e);return t.bindEvents(o),o});i=i.concat(u)}if(e.childNodes&&e.childNodes.length)for(s=0;s<e.childNodes.length;s++)i=i.concat(t.getBindings(e.childNodes[s]));else{a=n.getPlaceHolders(e.textContent);var c=a.map(function(n){var o=new r(e,n,e.parentNode);return t.bindEvents(o),o});i=i.concat(c)}return i},a.prototype.subscribe=function(e,t,n){this.on(e+"-"+t,n)},t.exports=a},{"./arrayBinding":5,"./nodeBinding":7,"droopy-events":2,"droopy-templating":3}],7:[function(e,t){var n=e("droopy-templating"),r=e("droopy-events"),o=function(e,t,n){r.call(this),this.node=e,this.original=e.nodeValue,this.raw=t,this.fullProperty=this.raw.slice(2,this.raw.length-2),this.element=n||e,this.setupTwoWay()};o.prototype=new r,o.prototype.setupTwoWay=function(){if(this.element&&this.element.tagName){var e=this.element.tagName.toLowerCase();"textarea"===e?this.element.addEventListener("input",this.onInputChange.bind(this)):"value"===this.node.nodeName&&("input"===e?(this.element.addEventListener("input",this.onInputChange.bind(this)),this.element.addEventListener("change",this.onInputChange.bind(this))):"select"===e&&(this.element.addEventListener("change",this.onInputChange.bind(this)),setTimeout(this.onInputChange.bind(this),1)))}},o.prototype.onInputChange=function(){this.trigger("input-change",this.fullProperty,this.element.value)},o.prototype.update=function(e){var t=this;t.trigger("updating",t.fullProperty);var r=n.renderTemplate(t.original,e);t.node.nodeValue=r,"value"===t.node.nodeName&&t.element&&t.element.value!==r&&(t.element.value=r),t.trigger("updated",t.fullProperty)},t.exports=o},{"droopy-events":2,"droopy-templating":3}]},{},[1]);