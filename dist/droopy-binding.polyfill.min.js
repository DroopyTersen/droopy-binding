!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(t){e("object.observe");t.droopyBinding={},t.droopyBinding.OnewayBinding=e("../src/onewayBinding"),n.OnewayBinding=t.droopyBinding.OnewayBinding}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../src/onewayBinding":6,"object.observe":3}],2:[function(e,t){var n={Placeholder:function(e){this.raw=e,this.fullProperty=e.slice(2,e.length-2)},getPlaceHolders:function(e,t){var n=t||/\{\{[^\}]+\}\}?/g,r=e.match(n);return r||[]},getObjectValue:function(e,t){for(var n=e,o=t.split("."),i=0;i<o.length;i++){var a=o[i];n=null!=n[a]?n[a]:"Not Found: "+t}if("_"===t&&(n=e),"string"==typeof n&&-1!==n.indexOf("/Date(")){var s=r(n);n=s.toLocaleDateString()}return n},populateTemplate:function(e,t,n){for(var r=this.getPlaceHolders(e,n)||[],o=e,i=0;i<r.length;i++){var a=new this.Placeholder(r[i]);a.val=this.getObjectValue(t,a.fullProperty);var s=a.raw.replace("[","\\[").replace("]","\\]"),c="g";o=o.replace(new RegExp(s,c),a.val)}return o}};n.Each={regExp:/\{\[[^\]]+\]\}?/g,populateEachTemplates:function(e,t){var r=$(e),o=r.find("[data-each]");o.each(function(){var e="",o=$(this).html(),i=$(this).data("each"),a=sp.templating.getObjectValue(t,i);if(null!=a&&$.isArray(a))for(var s=0;s<a.length;s++)e+=n.populateTemplate(o,a[s],n.Each.regExp);r.find($(this)).html(e)});var i=r.clone().wrap("<div>");return i.parent().html()}},n.renderTemplate=function(e,t,r){var o=n.populateTemplate(e,t);return r&&(o=n.Each.populateEachTemplates(o,t)),o};var r=function(e){var t=e.substring(e.indexOf("(")+1);t=t.substring(0,t.indexOf(")"));var n=new Date(parseInt(t,10)),r=n.getTimezoneOffset()/60;return n.setHours(n.getHours()+r),n};t.exports=n},{}],3:[function(){Object.observe||function(e,t,n){"use strict";var r,o,i=["add","update","delete","reconfigure","setPrototype","preventExtensions"],a=t.isArray||function(e){return function(t){return"[object Array]"===e.call(t)}}(e.prototype.toString),s=t.prototype.indexOf?t.indexOf||function(e,n,r){return t.prototype.indexOf.call(e,n,r)}:function(e,t,n){for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1},c="undefined"!=typeof n.Map&&Map.prototype.forEach?function(){return new Map}:function(){var e=[],t=[];return{size:0,has:function(t){return s(e,t)>-1},get:function(n){return t[s(e,n)]},set:function(n,r){var o=s(e,n);-1===o?(e.push(n),t.push(r),this.size++):t[o]=r},"delete":function(n){var r=s(e,n);r>-1&&(e.splice(r,1),t.splice(r,1),this.size--)},forEach:function(n){for(var r=0;r<e.length;r++)n.call(arguments[1],t[r],e[r],this)}}},u=e.getOwnPropertyNames?function(){var t=e.getOwnPropertyNames;try{arguments.callee}catch(n){var r=(t(s).join(" ")+" ").replace(/prototype |length |name /g,"").slice(0,-1).split(" ");r.length&&(t=function(t){var n=e.getOwnPropertyNames(t);if("function"==typeof t)for(var o,i=0;i<r.length;)(o=s(n,r[i++]))>-1&&n.splice(o,1);return n})}return t}():function(t){var n,r,o=[];if("hasOwnProperty"in t)for(n in t)t.hasOwnProperty(n)&&o.push(n);else{r=e.hasOwnProperty;for(n in t)r.call(t,n)&&o.push(n)}return a(t)&&o.push("length"),o},l=e.getPrototypeOf,f=e.defineProperties&&e.getOwnPropertyDescriptor,p=n.requestAnimationFrame||n.webkitRequestAnimationFrame||function(){var e=+new Date,t=e;return function(n){+new Date;return setTimeout(function(){n((t=+new Date)-e)},17)}}(),d=function(e,t,n){var o=r.get(e);o?m(e,o,t,n):(o=h(e),m(e,o,t,n),1===r.size&&p(v))},h=function(t,n){var o,i=u(t),a=[],s=0,n={handlers:c(),frozen:e.isFrozen?e.isFrozen(t):!1,extensible:e.isExtensible?e.isExtensible(t):!0,proto:l&&l(t),properties:i,values:a,notifier:b(t,n)};if(f)for(o=n.descriptors=[];s<i.length;)o[s]=f(t,i[s]),a[s]=t[i[s++]];else for(;s<i.length;)a[s]=t[i[s++]];return r.set(t,n),n},g=function(){var t=f?function(e,t,n,r,o){var i=t.properties[n],a=e[i],s=t.values[n],c=t.descriptors[n];"value"in o&&(s===a?0===s&&1/s!==1/a:s===s||a===a)&&(w(e,t,{name:i,type:"update",object:e,oldValue:s},r),t.values[n]=a),!c.configurable||o.configurable&&o.writable===c.writable&&o.enumerable===c.enumerable&&o.get===c.get&&o.set===c.set||(w(e,t,{name:i,type:"reconfigure",object:e,oldValue:s},r),t.descriptors[n]=o)}:function(e,t,n,r){var o=t.properties[n],i=e[o],a=t.values[n];(a===i?0===a&&1/a!==1/i:a===a||i===i)&&(w(e,t,{name:o,type:"update",object:e,oldValue:a},r),t.values[n]=i)},n=f?function(e,n,r,o,i){for(var a,s=n.length;r&&s--;)null!==n[s]&&(a=f(e,n[s]),r--,a?t(e,o,s,i,a):(w(e,o,{name:n[s],type:"delete",object:e,oldValue:o.values[s]},i),o.properties.splice(s,1),o.values.splice(s,1),o.descriptors.splice(s,1)))}:function(e,t,n,r,o){for(var i=t.length;n&&i--;)null!==t[i]&&(w(e,r,{name:t[i],type:"delete",object:e,oldValue:r.values[i]},o),r.properties.splice(i,1),r.values.splice(i,1),n--)};return function(r,o,i){if(r.handlers.size&&!r.frozen){var a,c,p,d,h,g,v,y,b=r.values,m=r.descriptors,j=0;if(r.extensible)if(a=r.properties.slice(),c=a.length,p=u(o),m){for(;j<p.length;)h=p[j++],d=s(a,h),y=f(o,h),-1===d?(w(o,r,{name:h,type:"add",object:o},i),r.properties.push(h),b.push(o[h]),m.push(y)):(a[d]=null,c--,t(o,r,d,i,y));n(o,a,c,r,i),e.isExtensible(o)||(r.extensible=!1,w(o,r,{type:"preventExtensions",object:o},i),r.frozen=e.isFrozen(o))}else{for(;j<p.length;)h=p[j++],d=s(a,h),g=o[h],-1===d?(w(o,r,{name:h,type:"add",object:o},i),r.properties.push(h),b.push(g)):(a[d]=null,c--,t(o,r,d,i));n(o,a,c,r,i)}else if(!r.frozen){for(;j<a.length;j++)h=a[j],t(o,r,j,i,f(o,h));e.isFrozen(o)&&(r.frozen=!0)}l&&(v=l(o),v!==r.proto&&(w(o,r,{type:"setPrototype",name:"__proto__",object:o,oldValue:r.proto}),r.proto=v))}}}(),v=function(){r.size&&(r.forEach(g),o.forEach(y),p(v))},y=function(e,t){e.changeRecords.length&&(t(e.changeRecords),e.changeRecords=[])},b=function(e,t){return arguments.length<2&&(t=r.get(e)),t&&t.notifier||{notify:function(t){t.type;var n=r.get(e);if(n){var o,i={object:e};for(o in t)"object"!==o&&(i[o]=t[o]);w(e,n,i)}},performChange:function(t,n){if("string"!=typeof t)throw new TypeError("Invalid non-string changeType");if("function"!=typeof n)throw new TypeError("Cannot perform non-function");var o,i,a=r.get(e),s=n.call(arguments[2]);if(a&&g(a,e,t),a&&s&&"object"==typeof s){i={object:e,type:t};for(o in s)"object"!==o&&"type"!==o&&(i[o]=s[o]);w(e,a,i)}}}},m=function(e,t,n,r){var i=o.get(n);i||o.set(n,i={observed:c(),changeRecords:[]}),i.observed.set(e,{acceptList:r.slice(),data:t}),t.handlers.set(n,i)},w=function(e,t,n,r){t.handlers.forEach(function(t){var o=t.observed.get(e).acceptList;("string"!=typeof r||-1===s(o,r))&&s(o,n.type)>-1&&t.changeRecords.push(n)})};r=c(),o=c(),e.observe=function(t,n,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object.observe cannot observe non-object");if("function"!=typeof n)throw new TypeError("Object.observe cannot deliver to non-function");if(e.isFrozen&&e.isFrozen(n))throw new TypeError("Object.observe cannot deliver to a frozen function object");if(arguments.length>2){if(!r||"object"!=typeof r)throw new TypeError("Object.observe cannot use non-object accept list")}else r=i;return d(t,n,r),t},e.unobserve=function(e,t){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object.unobserve cannot unobserve non-object");if("function"!=typeof t)throw new TypeError("Object.unobserve cannot deliver to non-function");var n,i=o.get(t);return i&&(n=i.observed.get(e))&&(i.observed.forEach(function(e,t){g(e.data,t)}),p(function(){y(i,t)}),1===i.observed.size&&i.observed.has(e)?o["delete"](t):i.observed["delete"](e),1===n.data.handlers.size?r["delete"](e):n.data.handlers["delete"](t)),e},e.getNotifier=function(t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object.getNotifier cannot getNotifier non-object");return e.isFrozen&&e.isFrozen(t)?null:b(t)},e.deliverChangeRecords=function(e){if("function"!=typeof e)throw new TypeError("Object.deliverChangeRecords cannot deliver to non-function");var t=o.get(e);t&&(t.observed.forEach(function(e,t){g(e.data,t)}),y(t,e))}}(Object,Array,this)},{}],4:[function(e,t){var n=e("droopy-templating"),r=function(e,t){this.element=e,this.original=e.innerHTML,this.fullProperty=t};r.prototype.update=function(e){var t=this,r="",o=n.getObjectValue(e,t.fullProperty);if(o&&Array.isArray(o))for(var i=0;i<o.length;i++)r+=n.populateTemplate(t.original,o[i],n.Each.regExp);t.element.innerHTML=r},t.exports=r},{"droopy-templating":2}],5:[function(e,t){var n=e("droopy-templating"),r=function(e,t){this.node=e,this.original=e.nodeValue,this.raw=t,this.fullProperty=this.raw.slice(2,this.raw.length-2)};r.prototype.update=function(e){var t=this,r=n.renderTemplate(t.original,e);t.node.nodeValue=r},t.exports=r},{"droopy-templating":2}],6:[function(e,t){var n=e("droopy-templating"),r=e("./nodeBinding"),o=e("./arrayBinding"),i=function(e,t){this.model=t,this.container=document.getElementById(e),this.bindings=this.getBindings(this.container)};i.prototype.init=function(){var e=this;e.updateBindings(),e.recursiveObserve(e.model,"",function(t,n){e.handleScopeChange(t,n)})},i.prototype.recursiveObserve=function(e,t,n){var r=this;(Array.isArray(e)||"object"==typeof e)&&(Array.isArray(e)?(Array.observe(e,function(e){r.handleArrayChange(e,t)}),e.forEach(function(e){r.recursiveObserve(e,"",function(e){r.handleArrayChange.call(r,e,t)})})):(Object.observe(e,function(e){n(e,t)}),Object.keys(e).forEach(function(o){var i=t;i?i+="."+o:i=o,r.recursiveObserve(e[o],i,n)})))},i.prototype.handleArrayChange=function(e,t){var n=this;n.bindings.forEach(function(e){e.fullProperty===t&&e.update(n.model)})},i.prototype.handleScopeChange=function(e,t){var n=this;e.forEach(function(e){var r=e.name;t&&(r=t+"."+e.name),n.bindings.forEach(function(e){0===e.fullProperty.indexOf(r)&&e.update(n.model)}),"update"===e.type&&n.recursiveObserve(e.object[e.name],r,function(e,t){n.handleScopeChange(e,t)})})},i.prototype.updateBindings=function(){var e=this;e.bindings.forEach(function(t){t.update(e.model)})},i.prototype.updateModel=function(e){this.model=e,this.init()},i.prototype.getBindings=function(e){var t=this,i=[],a=[],s=0;if(e.attributes)for(s=0;s<e.attributes.length;s++)if("data-each"===e.attributes[s].nodeName)i.push(new o(e,e.attributes[s].nodeValue));else{var c=n.getPlaceHolders(e.attributes[s].nodeValue).map(function(t){return new r(e.attributes[s],t)});i=i.concat(c)}if(e.childNodes&&e.childNodes.length)for(s=0;s<e.childNodes.length;s++)i=i.concat(t.getBindings(e.childNodes[s]));else{a=n.getPlaceHolders(e.textContent);var u=a.map(function(t){return new r(e,t)});i=i.concat(u)}return i},t.exports=i},{"./arrayBinding":4,"./nodeBinding":5,"droopy-templating":2}]},{},[1]);